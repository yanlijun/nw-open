/* nw-open - v0.0.1 - 2016-08-11
** Copyright (c) 2016 */
var jQuery=jQuery||window.jQuery;!function(a){"use strict";function b(){function b(a){a.stopPropagation()}function c(){return f.addClass("show"),g.addClass("crt").siblings().removeClass("crt"),!1}function d(){return f.addClass("show"),h.addClass("crt").siblings().removeClass("crt"),!1}function e(){f.removeClass("show")}var f=a("#dialog"),g=a("#login"),h=a("#register");f.length&&(a(".login").on("click",c),a(".register").on("click",d),f.find(".m-pnl").on("click",b),a(".u-ico-close").on("click",e),a(window).on("click",e))}function c(){var b=a(".m-tab");b.length&&b.tab()}function d(a,b){var c,d=a.is("input")?"val":"text";b="number"==typeof b?b:59,a[d](b+1)[0].disabled=!0,c=setInterval(function(){b<0?(clearInterval(c),a.data("isGetting",!1)[d]("重新获取")[0].disabled=!1):a[d](b),b--},1e3)}function e(){var b=a(".getSmsCode");b.length&&b.on("click",function(){var b=a(this);return b.data("isGetting")||(b.data("isGetting",!0),d(b)),!1})}function f(){var b=a(".u-fs"),c=b.find(".u-fs-opt"),d=b.find(".u-fs-cnt"),e=b.find(".step-btn");e.length&&e.on("click",function(){var b=a(this).parents(".item").index(),e=":eq("+[b+1]+")";return c.children(e).addClass("sel").siblings().removeClass("sel"),d.children(e).addClass("sel").siblings().removeClass("sel"),!1})}function g(){var b=a(".u-fm-file");b.length&&b.fileUpload()}"undefined"!=typeof a&&(a.fn.tab=function(){return this.each(function(){var b=a(this),c=b.find(".m-tab-opt>li"),d=b.find(".m-tab-cnt>.item");c.each(function(b){a(this).on("click",function(){return a(d[b]).addClass("sel").siblings().removeClass("sel"),!1})})})},a.fn.fileUpload=function(){return this.each(function(){function b(){var a,b=c[0].files,d=c.next(".image");"[object FileList]"!==Object.prototype.toString.call(b)||c[0].multiple||(a=URL.createObjectURL(b[0],{oneTimeOnly:!0}),d.css("background-image","url('"+a+"')").addClass("show"))}var c=a(this).children(":file");c.length&&c.on("change",b)})},a(function(){b(),c(),e(),f(),g()}))}(jQuery);